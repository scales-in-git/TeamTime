[gd_scene load_steps=10 format=3 uid="uid://bpd6w4ojpqghn"]

[ext_resource type="TileSet" uid="uid://7ewkkcpem306" path="res://tiles/TileTests.tres" id="1_f0wrr"]
[ext_resource type="Texture2D" uid="uid://bdm5eipd1m8bw" path="res://Glow.png" id="2_n16jp"]
[ext_resource type="Texture2D" uid="uid://3hurbwdo1xm0" path="res://SquareGlow.png" id="3_4pasr"]
[ext_resource type="PackedScene" uid="uid://v042n0qyld7u" path="res://Scenes/Mechanics/Entrance/InstantEntrance/InstantEntrance.tscn" id="4_4pasr"]
[ext_resource type="PackedScene" uid="uid://jhjkr5mcfjhg" path="res://Scenes/Mechanics/DeathPit/DeathPit.tscn" id="5_abtv4"]
[ext_resource type="PackedScene" uid="uid://dxb7l54dt8jih" path="res://Scenes/Mechanics/EvilCamera/EvilCamera.tscn" id="6_42uhy"]
[ext_resource type="PackedScene" uid="uid://dnp68bg7x5xqw" path="res://Scenes/Mechanics/Exit/WalkingExit/WalkingExit.tscn" id="7_5euiy"]
[ext_resource type="PackedScene" uid="uid://yhp7gr6fmrn5" path="res://Scenes/Mechanics/Exit/InstantExit/InstantExit.tscn" id="8_mrmt3"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_v53k6"]
size = Vector2(4356, 499)

[node name="LevelTemplate" type="Node2D"]

[node name="BaseDarkness" type="CanvasModulate" parent="."]
color = Color(0.306923, 0.306923, 0.306923, 1)

[node name="TileMaps" type="Node2D" parent="."]

[node name="BackGround" type="TileMapLayer" parent="TileMaps"]
modulate = Color(0.603922, 0.603922, 0.603922, 1)
z_index = -10
tile_set = ExtResource("1_f0wrr")

[node name="MiddleGround-decor" type="TileMapLayer" parent="TileMaps"]
z_index = -10
tile_set = ExtResource("1_f0wrr")

[node name="Lights" type="Node2D" parent="."]

[node name="DoorLight" type="PointLight2D" parent="Lights"]
shadow_enabled = true
texture = ExtResource("2_n16jp")

[node name="FloorLights" type="Node2D" parent="Lights"]
position = Vector2(0, 3)

[node name="Floor Light_1" type="PointLight2D" parent="Lights/FloorLights"]
position = Vector2(4119.5, 352.295)
scale = Vector2(0.633, 1.09659)
shadow_enabled = true
texture = ExtResource("3_4pasr")

[node name="Ceiling_Lights" type="Node2D" parent="Lights"]
position = Vector2(0, 3)
rotation = 3.14159

[node name="Ceiling Light_1" type="PointLight2D" parent="Lights/Ceiling_Lights"]
shadow_enabled = true
texture = ExtResource("3_4pasr")

[node name="Ignores BaseDarkness" type="CanvasLayer" parent="."]
layer = 0
follow_viewport_enabled = true

[node name="PlayerSpawning-Instant" parent="Ignores BaseDarkness" instance=ExtResource("4_4pasr")]
position = Vector2(-5, -121)

[node name="Enemies" type="Node2D" parent="Ignores BaseDarkness"]

[node name="Enviromental" type="Node2D" parent="Ignores BaseDarkness/Enemies"]

[node name="DeathPit" parent="Ignores BaseDarkness/Enemies/Enviromental" instance=ExtResource("5_abtv4")]
visible = false
position = Vector2(2574, 1056)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ignores BaseDarkness/Enemies/Enviromental/DeathPit"]
position = Vector2(8, -347.5)
shape = SubResource("RectangleShape2D_v53k6")

[node name="Interactables" type="Node2D" parent="Ignores BaseDarkness/Enemies"]

[node name="EvilCamera" parent="Ignores BaseDarkness/Enemies/Interactables" instance=ExtResource("6_42uhy")]
visible = false

[node name="TileMaps" type="Node2D" parent="Ignores BaseDarkness"]

[node name="BackGround" type="TileMapLayer" parent="Ignores BaseDarkness/TileMaps"]
tile_set = ExtResource("1_f0wrr")

[node name="MiddleGround" type="TileMapLayer" parent="Ignores BaseDarkness/TileMaps"]
tile_set = ExtResource("1_f0wrr")

[node name="ForeGround" type="TileMapLayer" parent="Ignores BaseDarkness/TileMaps"]
z_index = 10
tile_set = ExtResource("1_f0wrr")

[node name="Exits" type="Node2D" parent="Ignores BaseDarkness"]

[node name="WalkingExit" parent="Ignores BaseDarkness/Exits" instance=ExtResource("7_5euiy")]
visible = false
scene = "uid://fv5qoda6vwj4"

[node name="InstantExit" parent="Ignores BaseDarkness/Exits" instance=ExtResource("8_mrmt3")]
visible = false
scene = "uid://cu4rjl45f8rbo"
